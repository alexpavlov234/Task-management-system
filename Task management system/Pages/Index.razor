@page "/"
<PageTitle>Моят ден</PageTitle>

@*
@if (loginState.IsLoggedIn.Equals(false))
{
    NavToLogin();
}
else
{
    <h1 style="text-align:center">Successful Login!</h1>
    <div style="text-align:center">
        <p> Thanks for logging in @loginState.loggedUser.Username!</p>
    </div>
}
*@
<AuthorizeView>
    <Authorized>
   <div class="frame container">
    <img class="banner" src="img/iStock-1203930843.jpg" alt="Banner">
            <div class="bottom-left">Здравейте, @userFullName</div>
        </div>
    </Authorized>

    <NotAuthorized>

    </NotAuthorized>
    </AuthorizeView>



@code {
    String userFullName = null;
    [Inject]
    private IUserService userService { get; set; }
    protected override async Task OnInitializedAsync()
    {
     
            var user = await userService.GetLoggedUser();
            userFullName = user.FirstName + " " + user.LastName;
        
    }
}

